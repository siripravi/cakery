---
import Layout from "../layouts/Layout.astro";

import ShowAllCategories from "../components/Category/ShowAllCategories.vue";

import { getAllCategories } from "../graphql/queries/getAllCategories";

const categories = await getAllCategories();
---

<Layout title="Categories">
  <main>
    <h1 class="text-center text-3xl font-bold p-4">Categories</h1>
    <ShowAllCategories categories={categories} client:load />
  </main>
</Layout>

<script setup>
  import FETCH_ALL_CATEGORIES_QUERY from "@/apollo/queries/FETCH_ALL_CATEGORIES_QUERY.gql";
  
  const variables = { limit: 99 };
  const { data } = await useAsyncQuery(FETCH_ALL_CATEGORIES_QUERY, variables);
  </script>
